# 패키지 매니저란?

* 패키지 매니저는 소프트웨어 개발에 있어 필수적인 도구 중 하나로, 라이브러리, 모듈, 프레임워크 등의 코드 조각들을 효율적으로 관리하고 설치하는 데 도움을 줌. 

* 패키지 매니저를 통해 필요한 모든 의존성을 쉽게 관리할 수 있음.

# 주요 기능

1. 패키지 설치: 필요한 패키지나 라이브러리를 프로젝트에 설치
2. 버전 관리: 특정 버전의 패키지를 설치, 업데이트 또는 제거
3. 의존성 관리: 패키지가 다른 패키지에 의존할 경우, 의존성도 함께 설치
4. 보안: 알려진 보안 위험을 가진 패키지에 대한 경고를 제공
5. 패키지 출시 및 배포: 사용자가 만든 패키지를 공개 레포지토리에 배포하는 기능을 제공

# 중요성

* 효율성: 개발자는 직접 모든 라이브러리를 관리하려고 시도할 필요가 없음.
* 일관성: 동일한 환경에서의 빌드와 배포가 가능.
* 생산성: 필요한 도구와 라이브러리를 빠르게 찾고 설치가능
* 보안: 패키지의 보안 취약점에 대한 정보를 제공할 수 있음.

# 종류

## 1. npm(Node Package Manager)

* npm은 Node.js와 함께 제공되는 기본 패키지 매니저로, 가장 널리 사용되고 있음.
* package.json 파일을 사용하여 프로젝트 의존성을 관리.
* node_modules 디렉토리에 패키지를 설치.

## 2. pnpm

* pnpm은 공유 모듈 방식을 통해 디스크 공간을 절약하는 데 중점을 둔 패키지 매니저.
* 실제 패키지는 중앙 저장소에서 관리되며, node_modules 디렉토리에는 하드 링크나 심볼릭 링크가 생성됩니다. 이는 디스크 공간의 효율적인 사용을 가능하게 함.
* npm과 비교할 때 더 빠른 설치 속도

## 3. yarn

* Facebook에서 개발한 패키지 매니저로, 초기 버전의 Yarn은 npm의 문제점을 개선하기 위해 만들어짐.
* yarn.lock 파일을 통해 의존성의 정확한 버전을 잠글 수 있음.
* 병렬 설치 방식으로 인해 npm보다 빠르게 패키지를 설치할 수 있음.
* 워크스페이스 기능을 지원하여 모노레포 구조를 간단히 관리할 수 있음.

## 4. yarn berry

* Yarn의 두 번째 메이저 버전으로, Yarn Berry라고도 불림. 기존 Yarn과는 다양한 측면에서 차이가 있음.
* Plug'n'Play (PnP) 기능을 도입하여 node_modules 없이도 패키지를 바로 로드할 수 있음.
* 패키지 설치 시, .yarn/cache에 패키지를 저장하며, .pnp.js나 .pnp.cjs 파일을 사용하여 의존성을 관리
* yarn.lock 파일의 포맷이 변경되었고, CLI와 플러그인 아키텍처에도 많은 변화가 있음.

### Plug'n'Play (PnP) 의 작동방식

1. 가상 파일 시스템: PnP는 패키지를 물리적인 디스크에 설치하지 않음. 대신 .pnp.js 또는 .pnp.cjs라는 가상의 파일 시스템 맵을 생성. 이 파일은 프로젝트의 모든 패키지 의존성과 그 위치를 정의.

2. 프로그램 시작 시 PnP 로더 활성화: Node.js는 특정 모듈을 요청할 때마다 이 가상의 파일 시스템 맵을 참조. 이를 통해 Node는 필요한 모듈을 실제 node_modules 폴더에서 찾지 않고, 대신 패키지가 저장된 올바른 위치를 참조하여 직접 로드.

3. 패키지 압축 : Yarn은 각 패키지를 .yarn/cache 디렉토리에 압축된 형태로 저장합. PnP 로더는 이 압축된 파일에서 직접 모듈을 로드.