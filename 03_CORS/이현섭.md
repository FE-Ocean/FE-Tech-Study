## CORS

CORS (교차 출처 리소스 공유 정책)란 서로 다른 Origin간에 자원을 공유하는 것을 말하며 기본적으로 브라우저간에 차단되어있습니다.

Origin이란 출처를 말하며, Protocol + Host + Port 를 합친 것을 의미합니다.

CORS 에러는 서버에서 응답 헤더에 특정 헤더를 포함하는 방식으로 해결할 수 있습니다.

예를 들어 Access-Control-Allow-Origin을 통해 특정 브라우저가 리소스에 접근이 가능하도록 허용할 수 있습니다.

### 요청 방식에 따른 CORS 발생 여부

img, video, script, link 태그는 기본적으로 Cross-Origin 정책 지원

XMLHttpRequest, Fetch API 는 기본적으로 Same-Origin 정책을 따름

### 동일 출처 정책 (Same-Origin Policy)

SOP 정책은 동일한 출처에 대한 정책. 즉, 동일 출처 서버에 있는 리소스는 자유로이 가져올 수 있지만, 다른 출처 서버에 있는 리소스는 상호작용 불가능.

#### 동일 출처 정책이 필요한 이유는?

CSRF나 XSS 등의 방법을 이용하여 해커가 개인정보를 가로챌 수 있기 때문.
출처의 동일함은 URL의 구성 요소 중 Protocol(Scheme), Host, Port 이 3가지만 동일한다면 동일 출처로 판단.

#### 그럼 전부다 차단하면 해결?

인터넷은 오픈된 환경이고, 다른 출처에 있는 리소스를 가져와 사용하는 일은 흔하기 때문에 무턱대고 막을 수 없음.

=> 몇 가지 예외 조항을 두고 다른 출처의 리소스 요청이라도 이 조항에 해당할 경우에는 허용하기로 함.

그 중 하나가 바로 **CORS 정책을 지킨 리소스 요청**

### CORS 해결방법!

#### 1. Chrome 확장 프로그램 이용

'Allow CORS: Access-Control-Allow-Origin' 크롬 확장 프로그램을을 설치
이 프로그램 활성화 한다면, 로컬환경에서 API 테스트 시, CORS 문제 해결.

#### 2. 프록시 사이트 이용

프록시(Proxy) 란 ? 클라이언트와 서버 사이의 중계 대리점.

즉, 프론트에서 직접 서버에 리소스를 요청을 했더니 서버에서 따로 설정을 안해줘서 CORS 에러가 뜬다면, **모든 출처를 허용한 서버 대리점** 을 통해 요청을 하면 됨.
다만, 근본적인 해결책이 아닌 임시방편

#### 3. 서버에서 Access-Control-Allow-Origin 헤더 셋팅

직접 서버에서 HTTP 헤더 설정을 통해 출처를 허용하게 설정하는 가장 정석적인 해결책.
