1. SPA (Single Page Application) 하나의 페이지로 구성된 웹 어플리케이션
2. MPA (Multi Page Application) 매번 새로운 html을 받아옴

일반적으로 SPA => CSR, MPA => SSR 이지만 항상 같은 것은 아님.
SPA !== CSR, MPA !== SSR.

SPA는 웹 어플리케이션에 필요한 정적 리소스를 초반 한번에 모두 다운로드하고 그 이후에 새로운 페이지 요청이 있을 때 필요한 데이터만 전달받아서 클라이언트에서 페이지를 갱신하기 때문에 자연스럽게 렌더링방식으로 CSR을 사용.

MPA는 새로운 요청이 있을때마다 서버에서 이미 렌더링된 정적 리소스를 받아오기 때문에 렌더링 방식으로 SSR을 사용하게 됩니다.

### CSR이란 ?
Client Side Rendering의 약자로 클라이언트 측에서 렌더링하는 방식

### SSR이란 ?
Server Side Rendering의 약자로 서버측에서 렌더링하는 방식
어느 쪽에서 렌더링을 준비하느냐에 따라 나뉘는 개념

### SSG 란?
Static Site Generation의 약자로 Static Rendering이라고 불리는 방식
서버에서 HTML을 보내준다는 측면에서는 SSR과 비슷하지만 언제 만들어 주느냐에 차이
SSR은 요청시 서버에서 즉시 HTML을 만들어서 응답하기 때문에 데이터가 달라지거나 자주 바뀌어서 미리 만들어 두기 어려운 페이지에 적합하고
SSG는 페이지들을 서버에 모두 만들어둔 뒤에 요청시에 해당 페이지를 응답하는 것이기 때문에 바뀔 일이 거의 없어서 캐싱 해두면 좋은 페이지에 사용하면 적합합니다.

## CSR과 SSR의 동작과정과 특징

### CSR
유저가 웹사이트에 방문하면 브라우저가 서버에 콘텐츠를 요청하고 서버는 빈 뼈대만 있는 HTML을 응답으로 보내줍니다. 브라우저가 연결된 JS링크를 통해 서버로부터 다시 JS파일을 다운로드 받고 JS를 이용해 동적으로 페이지를 만들어서 브라우저에 띄워줍니다.
JS 파일을 다운로드 받아 동적으로 페이지를 만들어 띄움 CSR은 브라우저가 JS 파일을 다운로드 받고 동적으로 DOM을 생성하는 시간을 기다려야 하기 때문에 초기 로딩 속도가 느립니다. 하지만 초기로딩 이후에 페이지 일부를 변경할 때는 서버에 해당 데이터만 요청하면 되기 때문에 이후 구동속도는 빠름
또, 서버가 빈 뼈대만 있는 HTML을 넘겨주는 역할만 수행하면 되기 때문에 서버측 부하가 적음. 이밖에도 클라이언트 측에서 연산, 라우팅등을 모두 직접 처리하기 때문에 반응 속도가 빠르고 UX도 우수하다는 장점
반면, 웹 크롤러 봇 입장에서 본 HTML은 텅텅 비어있음.
검색엔진이 색인을 할만한 컨텐츠가 존재하지 않음 이때문에 CSR은 검색엔진 최적화(SEO)에 불리하다는 치명적인 단점이 있음.

### SSR
유저가 웹사이트에 방문하면 브라우저에서 서버로 컨텐츠를 요청합니다.
서버에서는 즉시 페이지에 필요한 데이터를 얻어와 모두 삽입하고 CSS까지 모두 적용해서 렌더링 준비를 마친 HTML과 JS코드를 브라우저에 응답으로 전달합니다. 브라우저에서는 바로 전달받은 페이지를 띄움. 이어 브라우저가 JS코드를 다운로드하고 HTML에 JS 로직을 연결.
서버에서 렌더링 준비를 마친 HTML을 브라우저의 응답으로 전달
모든 데이터가 이미 HTML에 담겨진채로 브라우저에 전달되기때문에 검색엔진 최적화에 유리합니다.
또, 자바스크립트 코드를 다운로드받고 실행하기 전에 사용자가 화면을 볼 수 있습니다.
CSR보다 초기 구동속도 빠름. 하지만 동시에 이것이 치명적인 단점. 이 시점에는 사용자가 버튼 클릭하거나 이동하려고해도 아무런 반응이 없음. 인터랙션 가능한 페이지처럼 보이지만 껍데기에 불과.
실제로 클라이언트 측 JS가 실행되고 이벤트 핸들러 첨부되어서 JS로직이 모두 연결될때까지 사용자 입력에 응답할 수 없기 때문
TTV(Time To View) 와 TTI(Time To Interact) 간에 시간 간격이 존재한다는 것이 단점
반면에 CSR은 JS가 동적으로 DOM을 생성하기 때문에 HTML은 JS 로직이 완전히 연결된 상태라 사용자가 보는 시점과 이용할 수 있는 시점이 동일합니다.

### CSR과 SSR의 장단점 비교

|          | **CSR**                                                                                                      | **SSR**                                                                    |
|----------|--------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
| **장점** | - 화면 깜빡임이 없음<br>- 초기 로딩 이후 구동속도가 빠름<br>- TTV와 TTI 사이 간극이 없음<br>- 서버 부하 분산 | - 초기 구동 속도가 빠름<br>- SEO에 유리함                                  |
| **단점** | - 초기 로딩 속도가 느림<br>- SEO에 불리함                                                                    | - 화면 깜빡임이 있음<br>- TTV와 TTI 사이 간극이 있음<br>- 서버 부하가 있음 |



### CSR 단점 보완 방법
초기 로딩 속도 보완을 위해 code splitting, tree-shaking, chunk 분리를 통해 JS 번들 크기를 줄여서 초기 DOM 생성 속도를 줄이면 초기 로딩속도 개선 가능
pre-rendering을 통해 SEO 개선. 라이브러리나 웹팩 플러그인을 통해 각 페이지에 대한 HTML 파일을 미리 생성해둔뒤 서버에서 요청하는 자가 만약 크롤러라면 사전에 렌더링된 HTML 버전 페이지를 보여주는 방식을 통해 개선 가능
CSR을 사용하고 있는 SPA에 SSR이나 SSG를 도입하는 것도 방법

### HOW CSR + SSR/SSG ?

Next.js는 리액트에서 SSR 이나 SSG를 사용할수있게 해주는 프레임워크 페이지의 성격 별로 SSR을 사용할 것인지 SSG를 사용할 것인지 미리 정해두는것 가능.

GatsbyJS는 SSG에 최적화된 리액트 기반 정적 페이지 생성 프레임워크.

### 무엇을 써야할까요?

서비스의 성격에 따라 달라집니다.

만약 사용자와의 상호작용이 많고 대부분 페이지가 고객의 개인정보 데이터를 기준으로 구성되는 서비스라면 검색포털 상위 노출보다는 오히려 고객의 데이터를 보호하는 것이 더 중요할 수 있습니다. 모든 서비스 SEO가 필요하지는 않다는 의미입니다. 이런 서비스의 경우 SSR보다 CSR이 더 적합.

만약 회사 홈페이지이기 때문에 상위노출되어야 하고 누구에게나 동일한 내용을 노출하고 있다면 그리고 만약 그 페이지 데이터가 자주 바뀐다면 SSR이 더 적합할 것이고 내용을 업데이트 하는일이 거의 없다면 SSG가 더 적합.

만약 사용자에 따라 페이지 내용도 달라지고 빠른 인터랙션도 중요하고 검색엔진 최적화도 포기할 수 없다면 CSR + SSR 즉 유니버셜 렌더링 고려.

출처 : 우아한테크 - [10분 테코톡] 신세한탄의 CSR&SSR https://youtu.be/YuqB8D6eCKE