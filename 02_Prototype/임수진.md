# 프로토타입(prototype)
자바스크립트는 프로토타입 기반 객체지향 프로그래밍을 지원하는 프로그래밍 언어다.<br>
객체 지향 프로그래밍에서는 클래스를 기반으로 객체를 생성한다.
자바스크립트에서는 ES6부터 클래스 문법이 추가되었지만, 이 역시 프로토타입을 기반으로 하고 있다.

## 프로토타입 기반 언어
프로토타입을 기반으로 하는 언어란 **모든 객체들이 메서드와 속성들을 상속 받기 위한 템플릿으로써 프로토타입 객체를 가진다는 의미다.** 프로토타입 객체도 또 다시 상위 프로토타입 객체로부터 메서드와 속성을 상속 받을 수도 있고, 그 상위 프로토타입 객체도 마찬가지다. 이를 프로토타입 체인이라 부르며 다른 객체에 정의된 메서드와 속성을 한 객체에서 사용할 수 있도록 하는 근간이다.
<br>정확히 말하자면 상속되는 속성과 메서드들은 각 객체가 아니라 객체의 생성자의 prototype이라는 속성에 정의되어 있다.

## 상속과 프로토타입
상속(inheritance)은 객체지향 프로그래밍의 핵심 개념으로, 어떤 객체의 프로퍼티 또는 메서드를 다른 객체가 상속받아 그대로 사용할 수 있는 것을 말한다.<br>
**자바스크립트는 프로토타입을 기반으로 상속을 구현한다.**

```js
// 생성자 함수
function Square(line) {
    this.line = line;
}

Square.prototype.getArea = function () {
    return this.line * this.line;
};
// Square 생성자 함수가 생성한 모든 인스턴스가
// getArea 메서드를 공유해서 사용할 수 있도록 프로토타입에 추가한다.
// 프로토타입은 Square 생성자 함수의 prototype 프로퍼티에 바인딩되어 있다.

// 인스턴스 생성
const square1 = new Square(2);
const square2 = new Square(3);

console.log(square1.getArea()); //4
console.log(square2.getArea()); //9
```
Square 생성자 함수가 생성한 모든 인스턴스는 부모 객체의 역할을 하는 프로토타입 `Circle.prototype`으로부터 getArea 메서드를 상속받는다. getArea 메서드는 단 하나만 생성되어 프로토타입인 Circle.prototype의 메서드로 할당되어 있다.
즉 Square 생성자 함수가 생성하는 모든 인스턴스는 **하나의 getArea 메서드를 공유**한다.


## 프로토타입 객체
프로토타입은 객체 지향 프로그래밍의 근간을 이루는 객체 간 상속을 구현하기 위해 사용된다.
프로토타입은 어떤 객체의 상위(부모) 객체의 역할을 하는 객체로서 다른 객체에 공유 프로퍼티(메서드 포함)를 제공한다. 프로토타입을 상속받은 하위(자식) 객체는 상위 객체의 프로퍼티를 자신의 프로퍼티처럼 자유롭게 사용할 수 있다.

모든 객체는 하나의 프로토타입을 갖는다. 그리고 모든 프로토타입은 생성자 함수와 연결되어 있다. 

## 프로토타입 체인
자바스크립트가 객체의 프로퍼티에 접근할고 할 때 해당 객체에 접근하려는 프로퍼티가 없다면 자신의 부모 역할을 하는 프로토타입의 프로퍼티를 순차적으로 검색한다. 이를 프로토타입 체인이라 한다. 프로토타입 체인은 자바스크립트가 객체지향 프로그래밍의 상속을 구현하는 메커니즘이다.

프로토타입 체인의 최상위에 위치하는 객체는 언제나 `Object.prototype`이다.
따라서 모든 객체는 `Object.prototype`을 상속받는다. `Object.prototype`을 프로토타입 체인의 종점이라한다.
프로토타입 체인의 종점인 `Object.prototype`에서도 프로퍼티를 검색할 수 없는 경우 `undefined`를 반환한다.

이처럼 자바스크립트 엔진은 프로토타입 체인을 따라 프로퍼티/메서드를 검색한다. 그래서 프로토타입 체인은 상속과 프로퍼티 검색을 위한 메커니즘이다. 
<br><br>
#### Reference
책 <모던 자바스크립트 Deep Dive> <br>
https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Object_prototypes
